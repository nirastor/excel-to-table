(this.webpackJsonpmedical=this.webpackJsonpmedical||[]).push([[0],{27:function(e,t){},69:function(e,t){},70:function(e,t){},82:function(e,t,n){var s={"./cat":35,"./cat.js":35,"./cd":18,"./cd.js":18,"./chmod":36,"./chmod.js":36,"./common":1,"./common.js":1,"./cp":19,"./cp.js":19,"./dirs":37,"./dirs.js":37,"./echo":38,"./echo.js":38,"./error":20,"./error.js":20,"./exec":39,"./exec.js":39,"./find":40,"./find.js":40,"./grep":41,"./grep.js":41,"./head":42,"./head.js":42,"./ln":43,"./ln.js":43,"./ls":23,"./ls.js":23,"./mkdir":44,"./mkdir.js":44,"./mv":45,"./mv.js":45,"./popd":46,"./popd.js":46,"./pushd":47,"./pushd.js":47,"./pwd":22,"./pwd.js":22,"./rm":24,"./rm.js":24,"./sed":48,"./sed.js":48,"./set":49,"./set.js":49,"./sort":50,"./sort.js":50,"./tail":51,"./tail.js":51,"./tempdir":21,"./tempdir.js":21,"./test":52,"./test.js":52,"./to":53,"./to.js":53,"./toEnd":54,"./toEnd.js":54,"./touch":55,"./touch.js":55,"./uniq":56,"./uniq.js":56,"./which":57,"./which.js":57};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=i,e.exports=a,a.id=82},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(6),i=n.n(a),l=n(58),r=n.n(l),c=n(7),o=n(8),u=n(5),h=n(10),d=n(9),j=n(25),O=n.n(j),b=n(59),f=n.n(b),p=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this)).readFile=s.readFile.bind(Object(u.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(u.a)(s)),s.handleInput=s.handleInput.bind(Object(u.a)(s)),s.setNewFile=e.setNewFile,s}return Object(o.a)(n,[{key:"handleInput",value:function(e){var t=e.target.files[0];this.readFile(t)}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=e.target[0].files[0];this.readFile(t)}},{key:"getFileExtension",value:function(e){return e.name.split(".").pop()}},{key:"readFile",value:function(e){var t=this,n=new FileReader;n.readAsArrayBuffer(e);var s=this.getFileExtension(e);if("xlsx"===s&&(n.onload=function(){var s=new Uint8Array(n.result),a=O.a.read(s,{type:"array"}),i=a.Workbook.Sheets[0].name,l=O.a.utils.sheet_to_json(a.Sheets[i],{header:1});t.setNewFile(l,e.name)}),"accdb"===s){console.log(e);var a=URL.createObjectURL(e);console.log(a);var i=new f.a(a).list();this.setNewTable(i)}n.onerror=function(){console.log(n.error)}}},{key:"render",value:function(){return Object(s.jsx)("form",{className:"inputfile",onSubmit:this.handleSubmit,children:Object(s.jsxs)("div",{className:"inputfile-input-container",children:[Object(s.jsx)("input",{className:"inputfile-input-input",type:"file",onInput:this.handleInput}),Object(s.jsxs)("div",{className:"inputfile-input-cover",children:["\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b.",Object(s.jsx)("br",{}),"\u0418\u043b\u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430"]})]})})}}]),n}(i.a.Component),N=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={isOpen:!0},s.handleToggle=s.handleToggle.bind(Object(u.a)(s)),s.handleDeleteFile=s.handleDeleteFile.bind(Object(u.a)(s)),s.setNewFile=e.setNewFile,s}return Object(o.a)(n,[{key:"handleToggle",value:function(){this.setState((function(e){return{isOpen:!e.isOpen}}))}},{key:"handleDeleteFile",value:function(){this.props.setNewFile(null,null)}},{key:"render",value:function(){var e,t="fileinfo-arrow";return this.state.isOpen||(t+=" is-closed"),this.state.isOpen&&(e=Object(s.jsxs)("div",{className:"fileinfo-row",children:[Object(s.jsxs)("div",{className:"fileinfo-text",children:[Object(s.jsx)("span",{children:"\u0412\u044b\u0431\u0440\u0430\u043d \u0444\u0430\u0439\u043b: "}),Object(s.jsx)("span",{className:"fileinfo-filename",children:this.props.fileName})]}),Object(s.jsxs)("div",{className:"fileinfo-del",onClick:this.handleDeleteFile,children:[Object(s.jsx)("svg",{className:"fileinfo-del-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 1.4L12.6 0L7 5.6L1.4 0L0 1.4L5.6 7L0 12.6L1.4 14L7 8.4L12.6 14L14 12.6L8.4 7L14 1.4Z",fill:"currentcolor"})}),Object(s.jsx)("div",{className:"fileinfo-del-tooltip",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b \u0438\xa0\u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439"})]})]})),Object(s.jsxs)("div",{className:"block fileinfo",children:[e,Object(s.jsx)("div",{className:"fileinfo-toggle",onClick:this.handleToggle,children:Object(s.jsx)("svg",{className:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 8L6 14L7.4 15.4L12 10.8L16.6 15.4L18 14L12 8Z",fill:"currentcolor"})})})]})}}]),n}(i.a.Component);function v(e){var t=[];for(var n in e.tabs){var a="tab";n===e.selectedTab&&(a+=" tab--selected"),t.push(Object(s.jsx)("li",{id:n,className:a,onClick:e.handleTabChange,children:e.tabs[n].displayName},n))}return Object(s.jsx)("ul",{className:"tabs",children:t})}function I(e){var t=(Math.round(100*parseFloat(e))/100).toString().split(".");if(1===t.length)t.push("00");else for(;2!==t[1].length;)t[1]+="0";return t.join(".")}function m(e){var t=e.table,n=e.columns,i=e.hasFooter;if(!t)return!1;function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];return e.forEach((function(e,l){(!t&&l===n.PRICE_POSITION||(!t||t.isFooter)&&l===n.EXPENSES_POSITION)&&(e=I(e));var r="cell";l===n.PRICE_POSITION||l===n.VALUE_POSITION||l===n.EXPENSES_POSITION?r+=" cell-digit":r+=" cell-text",l!==n.TRADE_NAME_POSITION&&l!==n.REALIZE_FORM_POSITION||(console.log(e,typeof e,e.indexOf("\n")),e=e.split("\n").map((function(e){return Object(s.jsxs)(a.Fragment,{children:[Object(s.jsx)("span",{children:e}),Object(s.jsx)("br",{})]})}))),t.isHead?i.push(Object(s.jsx)("th",{className:r,children:e})):i.push(Object(s.jsx)("td",{className:r,children:e}))})),Object(s.jsx)("tr",{children:i})}var r,c=l(t[0],{isHead:!0}),o=t.length-1;i&&(r=l(t[t.length-1],{isFooter:!0}),o-=1);for(var u=[],h=1;h<o;h+=1)u.push(l(t[h]));return Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:c}),Object(s.jsx)("tbody",{children:u}),Object(s.jsx)("tfoot",{children:r})]})}var g=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).setNewTable=s.setNewTable.bind(Object(u.a)(s)),s.state={table:null},s}return Object(o.a)(n,[{key:"setNewTable",value:function(e){this.setState({table:e})}},{key:"render",value:function(){return this.state.table?Object(s.jsx)("div",{children:"\u0424\u0430\u0439\u043b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"}):Object(s.jsxs)("div",{className:"jnvlp",children:[Object(s.jsx)("div",{className:"jnvlp-text",children:"\u0414\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0416\u041d\u0412\u041b\u041f \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445"}),Object(s.jsx)("div",{className:"jnvlp-fileinput",children:Object(s.jsx)(p,{setNewTable:this.setNewTable})})]})}}]),n}(i.a.Component);var x=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={tab:"original",table:null,fileName:null},e.tabs={original:{displayName:"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b"},expenses:{displayName:"\u0417\u0430\u0442\u0440\u0430\u0442\u044b"},uniqueMNN:{displayName:"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u041c\u041d\u041d"}},e.handleTabChange=e.handleTabChange.bind(Object(u.a)(e)),e.setNewFile=e.setNewFile.bind(Object(u.a)(e)),e.columns={MNN_POSITION:0,TRADE_NAME_POSITION:1,REALIZE_FORM_POSITION:2,VALUE_POSITION:3,PRICE_POSITION:4,EXPENSES_POSITION:e.state.table?e.state.table[0].length-1:null},e}return Object(o.a)(n,[{key:"setNewFile",value:function(e,t){this.setState({table:e,fileName:t})}},{key:"handleTabChange",value:function(e){var t=e.target.id;this.setState({tab:t})}},{key:"getTable",value:function(){if(!this.state.table)return!1;var e=this.state.table.map((function(e){return e.slice()}));return"uniqueMNN"===this.state.tab&&(e=function(e,t){var n=e.map((function(e){return e.slice()})),s=n.splice(0,1)[0];n.sort((function(e,t){return(new Intl.Collator).compare(e[0],t[0])}));var a=n.splice(0,1);return n.forEach((function(e){var n=a[a.length-1];if(e[0]===n[0]){var s=parseInt(e[t.VALUE_POSITION]),i=parseFloat(e[t.PRICE_POSITION]),l=parseInt(n[t.VALUE_POSITION]),r=parseFloat(n[t.PRICE_POSITION]);n[t.VALUE_POSITION]=l+s;var c=(l*r+s*i)/(l+s);n[t.PRICE_POSITION]=c,n[t.TRADE_NAME_POSITION]+="\n".concat(e[t.TRADE_NAME_POSITION]),n[t.REALIZE_FORM_POSITION]+="\n".concat(e[t.REALIZE_FORM_POSITION])}else a.push(e)})),a.unshift(s),a}(e,this.columns)),"original"!==this.state.tab&&(e=function(e,t){var n=e.map((function(e){return e.slice()}));n[0].push("\u0417\u0430\u0442\u0440\u0430\u0442\u044b"),t.EXPENSES_POSITION=n[0].length-1;for(var s=0,a=0,i=1;i<n.length;i+=1){var l=n[i],r=parseInt(l[t.VALUE_POSITION]),c=r*parseFloat(l[t.PRICE_POSITION]);l.push(c),s+=r,a+=c}n.push([]);for(var o=0;o<n[0].length;o+=1)n[n.length-1][o]=" ";return n[n.length-1][t.MNN_POSITION]="\u0418\u0442\u043e\u0433\u043e:",n[n.length-1][t.VALUE_POSITION]=s,n[n.length-1][t.EXPENSES_POSITION]=a,n}(e,this.columns)),e}},{key:"getTabContent",value:function(){return"jnvpl"===this.state.tab?Object(s.jsx)(g,{}):Object(s.jsx)(m,{table:this.getTable(),columns:this.columns,hasFooter:"original"!==this.state.tab})}},{key:"render",value:function(){return this.state.table?Object(s.jsxs)("div",{className:"app-container",children:[Object(s.jsx)(N,{fileName:this.state.fileName,setNewFile:this.setNewFile}),Object(s.jsx)(v,{tabs:this.tabs,selectedTab:this.state.tab,handleTabChange:this.handleTabChange}),this.getTabContent()]}):Object(s.jsx)("div",{className:"app-fileinput",children:Object(s.jsx)(p,{setNewFile:this.setNewFile})})}}]),n}(i.a.Component);n(84),n(85),n(86),n(87),n(88),n(89);r.a.render(Object(s.jsx)(x,{}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.eac67b68.chunk.js.map